
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Knowledge-based Fake News Detection &#8212; Fake News Detection  documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="fake-news-detection" href="modules.html" />
    <link rel="prev" title="Welcome to Fake News Detection’s documentation!" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="fake-news-detection"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Fake News Detection’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Fake News Detection  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Knowledge-based Fake News Detection</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="knowledge-based-fake-news-detection">
<h1>Knowledge-based Fake News Detection<a class="headerlink" href="#knowledge-based-fake-news-detection" title="Permalink to this headline">¶</a></h1>
<p>This project is the implementation part of my undergraduate final year project, titled “Using Dynamic Knowledge Graph
for Fake News Detection”. The final report will be available to read here once it is done and submitted.</p>
<p>The package documentation can be found at /docs/_build/html/index.html or fakenewsdetection.pdf.</p>
<div class="section" id="prerequisites-to-run">
<h2>Prerequisites to Run<a class="headerlink" href="#prerequisites-to-run" title="Permalink to this headline">¶</a></h2>
<p>In order to run this project locally, you will need the followings:</p>
<ol>
<li><p>Docker and Docker Compose.</p>
<p>This is required for running DBpedia. If you do not already have Docker and Docker Compose, install it from
<a class="reference external" href="https://docs.docker.com/engine/install/">https://docs.docker.com/engine/install/</a> and
<a class="reference external" href="https://docs.docker.com/compose/install/">https://docs.docker.com/compose/install/</a>.</p>
</li>
<li><p>A running DBpedia instance.</p>
<p>Follow the instructions in <a class="reference external" href="https://github.com/dbpedia/virtuoso-sparql-endpoint-quickstart">https://github.com/dbpedia/virtuoso-sparql-endpoint-quickstart</a>
to get DBpedia running locally. Note that it is not strictly required to have the full DBpedia loaded for
demonstration purpose, as it could take hours to load. Alternatively, use a smaller collection instead, as also
instructed in their documentation.</p>
</li>
<li><p>MongoDB</p>
<p>This is required to store the scraped articles and their extracted triples. If you do not already have it, install
it from <a class="reference external" href="https://www.mongodb.com/try/download/community">https://www.mongodb.com/try/download/community</a>.</p>
</li>
<li><p>Conda</p>
<p>This project uses Conda environment to manage Python and its packages. If you do not already have it, install
Anaconda (including Conda) from <a class="reference external" href="https://www.anaconda.com/products/individual">https://www.anaconda.com/products/individual</a>.</p>
</li>
<li><p>Node.js</p>
<p>This project uses Node.js for the User Interface. If you want to run the UI, you will need Node.js. If you do not
already have it, install it from <a class="reference external" href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a></p>
</li>
<li><p>Stanford CoreNLP</p>
<p>This is used for the triple extraction process. Download it from <a class="reference external" href="https://stanfordnlp.github.io/CoreNLP/">https://stanfordnlp.github.io/CoreNLP/</a>.
Java is required to run this.</p>
</li>
<li><p>(Optional) IIT OpenIE</p>
<p>This can also be used for the triple extraction, as an alternative to Stanford OpenIE. Changes are required in the
appropriate places in the code. Download it from
<a class="reference external" href="https://github.com/dair-iitd/OpenIE-standalone">https://github.com/dair-iitd/OpenIE-standalone</a>.</p>
</li>
<li><p>(Recommended) Guardian Open Platform API Key</p>
<p>In order to smoothly scrape content from The Guardian, the Guardian API is used. Register for the developer key
here: <a class="reference external" href="https://bonobo.capi.gutools.co.uk/register/developer">https://bonobo.capi.gutools.co.uk/register/developer</a>.</p>
</li>
</ol>
</div>
<div class="section" id="install-the-project-locally">
<h2>Install The Project Locally<a class="headerlink" href="#install-the-project-locally" title="Permalink to this headline">¶</a></h2>
<ol>
<li><p>From the terminal, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">env</span> <span class="n">create</span> <span class="o">--</span><span class="n">file</span> <span class="n">environment</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
</li>
<li><p>Once the Conda environment is installed, additionally you will need to install NeuralCoref library which needs to be
built locally because the Spacy version used in this project is later than version 2.1.0.</p>
<p>Run the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">huggingface</span><span class="o">/</span><span class="n">neuralcoref</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">neuralcoref</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
</li>
<li><p>Create .env file by copying the content of .env.default file. Fill out all of the necessary values, or replace the
default ones.</p></li>
<li><p>Install the UI.
Go to the ui folder (<code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">ui</span></code>), and run the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span>
<span class="n">cp</span> <span class="o">.</span>\<span class="n">src</span>\<span class="n">style</span>\<span class="n">my</span><span class="o">-</span><span class="n">theme</span><span class="o">.</span><span class="n">less</span> <span class="o">.</span>\<span class="n">node_modules</span>\<span class="n">antd</span>\<span class="n">dist</span>\
<span class="n">cd</span> <span class="o">.</span>\<span class="n">node_modules</span>\<span class="n">antd</span>\<span class="n">dist</span>\
<span class="n">lessc</span> <span class="o">--</span><span class="n">js</span> <span class="n">my</span><span class="o">-</span><span class="n">theme</span><span class="o">.</span><span class="n">less</span> <span class="o">..</span>\<span class="o">..</span>\<span class="o">..</span>\<span class="n">src</span>\<span class="n">style</span>\<span class="n">custom</span><span class="o">-</span><span class="n">antd</span><span class="o">.</span><span class="n">css</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="run-the-project-locally">
<h2>Run The Project Locally<a class="headerlink" href="#run-the-project-locally" title="Permalink to this headline">¶</a></h2>
<p>This project consists of 4 components that can be run individually.</p>
<div class="section" id="run-rest-api">
<h3>Run REST API<a class="headerlink" href="#run-rest-api" title="Permalink to this headline">¶</a></h3>
<p>The REST API is needed to access the main functionalities of this project. It is also needed when running the UI.</p>
<ol>
<li><p>Make sure that the local DBpedia and MongoDB are running.</p></li>
<li><p>Run the Stanford CoreNLP by using this command: (make sure you are running it from the directory where you have the
Stanford CoreNLP jar file):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">java</span> <span class="o">-</span><span class="n">mx4g</span> <span class="o">-</span><span class="n">cp</span> <span class="s2">&quot;*&quot;</span> <span class="n">edu</span><span class="o">.</span><span class="n">stanford</span><span class="o">.</span><span class="n">nlp</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">StanfordCoreNLPServer</span> \
<span class="o">-</span><span class="n">preload</span> <span class="n">tokenize</span><span class="p">,</span><span class="n">ssplit</span><span class="p">,</span><span class="n">pos</span><span class="p">,</span><span class="n">lemma</span><span class="p">,</span><span class="n">depparse</span><span class="p">,</span><span class="n">natlog</span><span class="p">,</span><span class="n">openie</span> \
<span class="o">-</span><span class="n">port</span> <span class="mi">9000</span> <span class="o">-</span><span class="n">timeout</span> <span class="mi">15000</span>
</pre></div>
</div>
</li>
<li><p>Run the REST API from the project root folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">fake</span><span class="o">-</span><span class="n">news</span><span class="o">-</span><span class="n">detection</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">api</span><span class="o">.</span><span class="n">main</span>
</pre></div>
</div>
</li>
<li><p>You should now be able to hit the REST API endpoints on port 5000.
You can also access the Swagger UI documentation and demo from <a class="reference external" href="http://localhost:5000/apidocs/">http://localhost:5000/apidocs/</a>.</p></li>
</ol>
</div>
<div class="section" id="run-user-interface">
<h3>Run User Interface<a class="headerlink" href="#run-user-interface" title="Permalink to this headline">¶</a></h3>
<p>The UI provides an intuitive way for users to interact with the REST API and the project as a whole.</p>
<ol class="simple">
<li><p>Make sure the REST API is running.</p></li>
<li><p>Go to the ui folder (<code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">ui</span></code>), and run the following command: <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">start</span></code>.</p></li>
<li><p>The UI can be accessed through <a class="reference external" href="http://localhost:3000">http://localhost:3000</a></p></li>
</ol>
</div>
<div class="section" id="run-article-scraper-in-background">
<h3>Run Article Scraper in background<a class="headerlink" href="#run-article-scraper-in-background" title="Permalink to this headline">¶</a></h3>
<p>If you want to run the article scraper that runs periodically all the time, you need the followings:</p>
<ol class="simple">
<li><p>Make sure MongoDB is running.</p></li>
<li><p>From the project’s root directory, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">articlescraper.main</span></code></p></li>
</ol>
</div>
<div class="section" id="run-knowledge-graph-updater-in-background">
<h3>Run Knowledge Graph Updater in background<a class="headerlink" href="#run-knowledge-graph-updater-in-background" title="Permalink to this headline">¶</a></h3>
<p>If you want to have the triples extracted from the recently scraped articles all the time, you need the followings:</p>
<ol class="simple">
<li><p>Make sure the Stanford CoreNLP server is running. See step 2 of Run REST API.</p></li>
<li><p>From the project’s root directory, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">knowledgegraphupdater.kgupdaterrunner</span></code></p></li>
</ol>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Knowledge-based Fake News Detection</a><ul>
<li><a class="reference internal" href="#prerequisites-to-run">Prerequisites to Run</a></li>
<li><a class="reference internal" href="#install-the-project-locally">Install The Project Locally</a></li>
<li><a class="reference internal" href="#run-the-project-locally">Run The Project Locally</a><ul>
<li><a class="reference internal" href="#run-rest-api">Run REST API</a></li>
<li><a class="reference internal" href="#run-user-interface">Run User Interface</a></li>
<li><a class="reference internal" href="#run-article-scraper-in-background">Run Article Scraper in background</a></li>
<li><a class="reference internal" href="#run-knowledge-graph-updater-in-background">Run Knowledge Graph Updater in background</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to Fake News Detection’s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="modules.html"
                        title="next chapter">fake-news-detection</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/README.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="fake-news-detection"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Fake News Detection’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Fake News Detection  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Knowledge-based Fake News Detection</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Albertus Andito.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.4.
    </div>
  </body>
</html>